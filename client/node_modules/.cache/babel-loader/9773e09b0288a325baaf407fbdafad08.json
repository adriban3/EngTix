{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Andrew\\\\Documents\\\\Code\\\\EngTix\\\\client\\\\src\\\\component\\\\Modal\\\\Modal.js\";\nimport React from 'react';\nimport './Modal.css';\nimport Modal from 'react-bootstrap/lib/Modal';\nimport Button from 'react-bootstrap/lib/Button';\nimport RequestForm from '../Form';\nimport API from '../../utils/API';\nimport SignUpForm from '../SignUpForm';\n\nvar RequestModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RequestModal, _React$Component);\n\n  function RequestModal(props, context) {\n    var _this;\n\n    _classCallCheck(this, RequestModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RequestModal).call(this, props, context));\n\n    _this.handleChange = function (e) {\n      var target = e.target;\n\n      _this.setState(_defineProperty({}, target.name, target.value));\n    };\n\n    _this.handleHide = function () {\n      _this.props.hide();\n\n      _this.setState({\n        title: '',\n        requestor: '',\n        location: '',\n        ice: '',\n        type: '',\n        username: '',\n        password: ''\n      });\n    };\n\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHide = _this.handleHide.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      title: '',\n      requestor: '',\n      location: '',\n      ice: '',\n      type: '',\n      username: '',\n      password: '',\n      redirectTo: ''\n    };\n    return _this;\n  }\n\n  _createClass(RequestModal, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var _this2 = this;\n\n      console.log(this.props.whichForm, this.props.inUp);\n\n      if (this.props.whichForm === 1) {\n        this.handleHide();\n        this.props.request();\n        API.newTicket({\n          title: this.state.title,\n          requestor: this.state.requestor,\n          su: this.state.location,\n          ice: this.state.ice,\n          type: this.state.type\n        }).then(this.setState({\n          title: '',\n          requestor: '',\n          su: '',\n          ice: '',\n          type: ''\n        }));\n      } else if (this.props.whichForm === 2 && this.props.inUp === 1) {\n        API.newUser({\n          username: this.state.username,\n          password: this.state.password\n        }).then(function (response) {\n          console.log(response);\n\n          if (response.data) {\n            console.log('Successful signup');\n          } else {\n            console.log('Signup error');\n          }\n        }).catch(function (error) {\n          return console.log(error.message);\n        }).then(this.handleHide());\n      } else if (this.props.whichForm === 2 && this.props.inUp === 2) {\n        API.newUser({\n          username: this.state.username,\n          password: this.state.password\n        }).then(function (response) {\n          console.log(response);\n\n          if (response.status === 200) {\n            console.log('Successful signin');\n\n            _this2.props.loggedIn(_this2.state.username);\n\n            _this2.setState({\n              //this should redirect to home\n              redirectTo: '/'\n            });\n          } else {\n            console.log('Signin error');\n          }\n        }).catch(function (error) {\n          return console.log(error.message);\n        }).then(this.handleHide());\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        show: this.props.show,\n        onHide: this.handleHide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.props.whichForm === 1 ? React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Add New Request\") : this.props.inUp === 1 ? React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Sign Up\") : React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Sign In\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, this.props.whichForm === 1 ? React.createElement(RequestForm, {\n        title: this.state.title,\n        requestor: this.state.requestor,\n        location: this.state.location,\n        ice: this.state.ice,\n        type: this.state.type,\n        handleChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }) : React.createElement(SignUpForm, {\n        username: this.state.username,\n        password: this.state.password,\n        handleChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick(event) {\n          return _this3.handleSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return RequestModal;\n}(React.Component); // render(<RequestModal />);\n\n\nexport default RequestModal;","map":{"version":3,"sources":["C:\\Users\\Andrew\\Documents\\Code\\EngTix\\client\\src\\component\\Modal\\Modal.js"],"names":["React","Modal","Button","RequestForm","API","SignUpForm","RequestModal","props","context","handleChange","e","target","setState","name","value","handleHide","hide","title","requestor","location","ice","type","username","password","handleSubmit","bind","state","redirectTo","console","log","whichForm","inUp","request","newTicket","su","then","newUser","response","data","catch","error","message","status","loggedIn","show","event","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,WAAP,MAAwB,SAAxB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,UAAP,MAAuB,eAAvB;;IAEMC,Y;;;;;AACF,wBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AACxB,sFAAMD,KAAN,EAAaC,OAAb;;AADwB,UA6E5BC,YA7E4B,GA6Eb,UAACC,CAAD,EAAO;AAClB,UAAMC,MAAM,GAAGD,CAAC,CAACC,MAAjB;;AAEA,YAAKC,QAAL,qBACKD,MAAM,CAACE,IADZ,EACmBF,MAAM,CAACG,KAD1B;AAGH,KAnF2B;;AAAA,UAqF5BC,UArF4B,GAqFf,YAAM;AACf,YAAKR,KAAL,CAAWS,IAAX;;AAEA,YAAKJ,QAAL,CAAc;AACVK,QAAAA,KAAK,EAAE,EADG;AAEVC,QAAAA,SAAS,EAAE,EAFD;AAGVC,QAAAA,QAAQ,EAAE,EAHA;AAIVC,QAAAA,GAAG,EAAE,EAJK;AAKVC,QAAAA,IAAI,EAAE,EALI;AAMVC,QAAAA,QAAQ,EAAE,EANA;AAOVC,QAAAA,QAAQ,EAAE;AAPA,OAAd;AASH,KAjG2B;;AAGxB,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKhB,YAAL,GAAoB,MAAKA,YAAL,CAAkBgB,IAAlB,uDAApB;AACA,UAAKV,UAAL,GAAkB,MAAKA,UAAL,CAAgBU,IAAhB,uDAAlB;AAEA,UAAKC,KAAL,GAAa;AACTT,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,SAAS,EAAE,EAFF;AAGTC,MAAAA,QAAQ,EAAE,EAHD;AAITC,MAAAA,GAAG,EAAE,EAJI;AAKTC,MAAAA,IAAI,EAAE,EALG;AAMTC,MAAAA,QAAQ,EAAE,EAND;AAOTC,MAAAA,QAAQ,EAAE,EAPD;AAQTI,MAAAA,UAAU,EAAE;AARH,KAAb;AAPwB;AAiB3B;;;;mCAEc;AAAA;;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAL,CAAWuB,SAAvB,EAAkC,KAAKvB,KAAL,CAAWwB,IAA7C;;AACA,UAAI,KAAKxB,KAAL,CAAWuB,SAAX,KAAyB,CAA7B,EAAgC;AAC5B,aAAKf,UAAL;AACA,aAAKR,KAAL,CAAWyB,OAAX;AAEA5B,QAAAA,GAAG,CAAC6B,SAAJ,CAAc;AACVhB,UAAAA,KAAK,EAAE,KAAKS,KAAL,CAAWT,KADR;AAEVC,UAAAA,SAAS,EAAE,KAAKQ,KAAL,CAAWR,SAFZ;AAGVgB,UAAAA,EAAE,EAAE,KAAKR,KAAL,CAAWP,QAHL;AAIVC,UAAAA,GAAG,EAAE,KAAKM,KAAL,CAAWN,GAJN;AAKVC,UAAAA,IAAI,EAAE,KAAKK,KAAL,CAAWL;AALP,SAAd,EAMGc,IANH,CAOI,KAAKvB,QAAL,CAAc;AACVK,UAAAA,KAAK,EAAE,EADG;AAEVC,UAAAA,SAAS,EAAE,EAFD;AAGVgB,UAAAA,EAAE,EAAE,EAHM;AAIVd,UAAAA,GAAG,EAAE,EAJK;AAKVC,UAAAA,IAAI,EAAE;AALI,SAAd,CAPJ;AAeH,OAnBD,MAoBK,IAAI,KAAKd,KAAL,CAAWuB,SAAX,KAAyB,CAAzB,IAA8B,KAAKvB,KAAL,CAAWwB,IAAX,KAAoB,CAAtD,EAAyD;AAC1D3B,QAAAA,GAAG,CAACgC,OAAJ,CAAY;AACRd,UAAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWJ,QADb;AAERC,UAAAA,QAAQ,EAAE,KAAKG,KAAL,CAAWH;AAFb,SAAZ,EAGGY,IAHH,CAGQ,UAAAE,QAAQ,EAAI;AAChBT,UAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;;AACA,cAAIA,QAAQ,CAACC,IAAb,EAAmB;AACfV,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH,WAFD,MAGK;AACDD,YAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH;AACJ,SAXD,EAWGU,KAXH,CAWS,UAAAC,KAAK;AAAA,iBAAIZ,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACC,OAAlB,CAAJ;AAAA,SAXd,EAW8CN,IAX9C,CAWmD,KAAKpB,UAAL,EAXnD;AAYH,OAbI,MAeA,IAAI,KAAKR,KAAL,CAAWuB,SAAX,KAAyB,CAAzB,IAA8B,KAAKvB,KAAL,CAAWwB,IAAX,KAAoB,CAAtD,EAAyD;AAC1D3B,QAAAA,GAAG,CAACgC,OAAJ,CAAY;AACRd,UAAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWJ,QADb;AAERC,UAAAA,QAAQ,EAAE,KAAKG,KAAL,CAAWH;AAFb,SAAZ,EAGGY,IAHH,CAGQ,UAAAE,QAAQ,EAAI;AAChBT,UAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAZ;;AACA,cAAIA,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AACzBd,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,YAAA,MAAI,CAACtB,KAAL,CAAWoC,QAAX,CAAoB,MAAI,CAACjB,KAAL,CAAWJ,QAA/B;;AACA,YAAA,MAAI,CAACV,QAAL,CAAc;AACV;AACAe,cAAAA,UAAU,EAAE;AAFF,aAAd;AAIH,WAPD,MAQK;AACDC,YAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH;AACJ,SAhBD,EAgBGU,KAhBH,CAgBS,UAAAC,KAAK;AAAA,iBAAIZ,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACC,OAAlB,CAAJ;AAAA,SAhBd,EAgB8CN,IAhB9C,CAgBmD,KAAKpB,UAAL,EAhBnD;AAiBH;AACJ;;;6BAwBQ;AAAA;;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKR,KAAL,CAAWqC,IAAxB;AAA8B,QAAA,MAAM,EAAE,KAAK7B,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKR,KAAL,CAAWuB,SAAX,KAAyB,CAAzB,GACG,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADH,GAGG,KAAKvB,KAAL,CAAWwB,IAAX,KAAoB,CAApB,GACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,GAGI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPZ,CAFJ,EAaI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKxB,KAAL,CAAWuB,SAAX,KAAyB,CAAzB,GACG,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWT,KAA/B;AACI,QAAA,SAAS,EAAE,KAAKS,KAAL,CAAWR,SAD1B;AAEI,QAAA,QAAQ,EAAE,KAAKQ,KAAL,CAAWP,QAFzB;AAGI,QAAA,GAAG,EAAE,KAAKO,KAAL,CAAWN,GAHpB;AAII,QAAA,IAAI,EAAE,KAAKM,KAAL,CAAWL,IAJrB;AAKI,QAAA,YAAY,EAAE,KAAKZ,YALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,GAQG,oBAAC,UAAD;AACI,QAAA,QAAQ,EAAE,KAAKiB,KAAL,CAAWJ,QADzB;AAEI,QAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWH,QAFzB;AAGI,QAAA,YAAY,EAAE,KAAKd,YAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATR,CAbJ,EA6BI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,iBAACoC,KAAD;AAAA,iBAAW,MAAI,CAACrB,YAAL,CAAkBqB,KAAlB,CAAX;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CA7BJ,CADJ,CADJ;AAsCH;;;;EA3IsB7C,KAAK,CAAC8C,S,GA8IjC;;;AAEA,eAAexC,YAAf","sourcesContent":["import React from 'react';\nimport './Modal.css';\nimport Modal from 'react-bootstrap/lib/Modal';\nimport Button from 'react-bootstrap/lib/Button';\nimport RequestForm from '../Form';\nimport API from '../../utils/API';\nimport SignUpForm from '../SignUpForm';\n\nclass RequestModal extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleHide = this.handleHide.bind(this);\n\n        this.state = {\n            title: '',\n            requestor: '',\n            location: '',\n            ice: '',\n            type: '',\n            username: '',\n            password: '',\n            redirectTo: ''\n        }\n    }\n\n    handleSubmit() {\n        console.log(this.props.whichForm, this.props.inUp);\n        if (this.props.whichForm === 1) {\n            this.handleHide()\n            this.props.request();\n\n            API.newTicket({\n                title: this.state.title,\n                requestor: this.state.requestor,\n                su: this.state.location,\n                ice: this.state.ice,\n                type: this.state.type\n            }).then(\n                this.setState({\n                    title: '',\n                    requestor: '',\n                    su: '',\n                    ice: '',\n                    type: ''\n                })\n            );\n        }\n        else if (this.props.whichForm === 2 && this.props.inUp === 1) {\n            API.newUser({\n                username: this.state.username,\n                password: this.state.password\n            }).then(response => {\n                console.log(response)\n                if (response.data) {\n                    console.log('Successful signup')\n                }\n                else {\n                    console.log('Signup error');\n                }\n            }).catch(error => console.log(error.message)).then(this.handleHide());\n        }\n\n        else if (this.props.whichForm === 2 && this.props.inUp === 2) {\n            API.newUser({\n                username: this.state.username,\n                password: this.state.password\n            }).then(response => {\n                console.log(response)\n                if (response.status === 200) {\n                    console.log('Successful signin')\n                    this.props.loggedIn(this.state.username)\n                    this.setState({\n                        //this should redirect to home\n                        redirectTo: '/'\n                    })\n                }\n                else {\n                    console.log('Signin error');\n                }\n            }).catch(error => console.log(error.message)).then(this.handleHide());\n        }\n    }\n\n    handleChange = (e) => {\n        const target = e.target;\n\n        this.setState({\n            [target.name]: target.value\n        });\n    }\n\n    handleHide = () => {\n        this.props.hide();\n\n        this.setState({\n            title: '',\n            requestor: '',\n            location: '',\n            ice: '',\n            type: '',\n            username: '',\n            password: ''\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <Modal show={this.props.show} onHide={this.handleHide}>\n\n                    <Modal.Header closeButton>\n                        {this.props.whichForm === 1 ?\n                            <Modal.Title>Add New Request</Modal.Title>\n                            :\n                            this.props.inUp === 1 ?\n                                <Modal.Title>Sign Up</Modal.Title>\n                                :\n                                <Modal.Title>Sign In</Modal.Title>\n                        }\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        {this.props.whichForm === 1 ?\n                            <RequestForm title={this.state.title}\n                                requestor={this.state.requestor}\n                                location={this.state.location}\n                                ice={this.state.ice}\n                                type={this.state.type}\n                                handleChange={this.handleChange} />\n                            :\n                            <SignUpForm\n                                username={this.state.username}\n                                password={this.state.password}\n                                handleChange={this.handleChange} />\n                        }\n                    </Modal.Body>\n\n                    <Modal.Footer>\n                        <Button onClick={(event) => this.handleSubmit(event)}>Submit</Button>\n                    </Modal.Footer>\n\n                </Modal>\n            </div>\n        )\n    }\n}\n\n// render(<RequestModal />);\n\nexport default RequestModal;"]},"metadata":{},"sourceType":"module"}